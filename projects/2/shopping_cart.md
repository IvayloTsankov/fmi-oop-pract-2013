# Пазарска количка

Нека имаме инвентар от продукти, описан чрез клас `Inventory`. Всеки продукт се представя от низ от символи — неговото име, които го идентифицират. За улеснение може да използвате класа [string](http://www.cplusplus.com/reference/string/string/) от стандартната библиотека (проверка за равенство на два низа може да се направи с оператора `==`).

Инвентара трябва да предоставя възможност за регистрация на продукт, като се подадат името му и неговата цена (`double` число). Ако продуктът вече е бил регистриран, то информация за него трябва да бъде обновена.

    Inventory inventory;
    inventory.register("Effective C++, 3rd edition", 29.99);
    inventory.register("More Effective C++, 2nd edition", 34.99);

## Количка

Инвентара трябва да притежава метод `createCart`, връщаш нова празна пазарска количка от клас `Cart`. Пазарска количка не трябва да може да се създава по друг начин.

В пазарската количка могат да бъдат добавяни продукти. Това става с метод `add`, приемащ името на продукта и желаната от него бройка. Приемете, че продукта със сигурност го има в инвентара или сигнализирайте по подходящ начин за грешка. От количката не могат да бъдат премахвани продукти.

Пазарската количка притежава още метод `total` връщаш цената на всички продукти в нея.

В зависимост от вашата реализация:

    Cart cart = inventory.createCart();
    cart.add("Effective C++, 2rd edition", 1);
    cart.add("More Effective C++, 2nd edition", 2);
    cart.total(); // 99.97

или

    Cart* cart = inventory.createCart();
    cart->add("Effective C++, 3rd edition", 1);
    cart—>add("More Effective C++, 2nd edition", 2);
    cart->total(); // 99.97

## Промоции

За всеки продукт може да има промоция. Тогава тя се подава като трети аргумент при регистрацията му. Промоцията не може да бъде повече от една.

Реализирайте следните типове промоции:

*   всеки n-ти такъв продукт е безплатен (например всяка 4-та книга `"Effective C++, 3rd edition"` е безплатна);
*   всеки такъв продукт след определена бройка е на намалена с x% цена (например всяка книга `"Effective C++, 3rd edition"` след 5-тата е с 40% намаление);
*   всеки набор от n на брой такива продукта е намален с x% (например за всеки 3 книги `"Effective C++, 3rd edition"` получавате 30% отстъпка, но 4-тата ще е на пълната си цена, освен ако не вземете още 2);

## Купони

Допълнително върху пазарската количка могат да бъдат прилагани купони.

Те могат да бъдат следните видове:

*   n% отстъпка от цялата цена;
*   отстъпка от точно фиксирана сума.

Отстъпката от купоните се прилага след отстъпката от промоциите.

Нека инвентара да съхранява всички валидни купони. Всеки купон се идентифицира чрез име — низ от произволни символи. Добавянето на купон става чрез метод `addCoupon`, приемащ името на купона и аргумент, описващ неговия вид. Веднъж регистриран, този купон може да бъде използван многократно. Към количката може да бъде приложен най-много един купон. За целта добавете метод `applyCoupon`, приемащ името на купона. Нека методът да връща `true`, ако прилагането е било успешно и `false`, ако не съществува такъв купон.

Например:

    Inventory inventory;
    ...
    inventory.addCoupon("KvsfJ84fV", PercentCoupon(20.0));
    ...
    cart.applyCoupon("KvsfJ84fV"); // true

**За реализация на промоциите и купоните използвайте по подходящ начин подтипов полиморфизъм.**

## Демонстрация

Реализирайте програма, която създава предварително напълнен инвентар, и предоставя възможност на потребителя да:

*   създава нова пазарска количка;
*   да разглежда наличните продукти и да добавя от тях към количката;
*   да регистрира купон. При опит на регистрация на несъществуващ купон да се извежда информация за това;
*   да получава информация за това колко е общата стойност на продуктите.

Можете свободно да допълвате вашата програма с каквито желаете класове, методи към тях и функции.

## Насоки

*   Създайте клас, който да съхранява информацията за продукт, цена за бройка и тип промоция.

## Бонус

Добавете възможност за изваждане на следната информация за пазарската количка:

*   за всеки избран тип продукт името му, избраната бройка и цената без приложена промоция,
*   за всяка приложена промоция информация от какъв тип е и колко отстъпка носи,
*   името на приложения купон, от какъв тип е и колко отстъпка носи.